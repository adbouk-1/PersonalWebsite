---
import GlassEffect from './GlassEffect.astro';

const { projects = [] } = Astro.props as {
  projects: { title: string; href: string; summary: string; meta?: string }[];
};
---
<section aria-labelledby="projects-title" style="margin-top:40px;">
  <h2 id="projects-title" class="section-title" style="font-size: 2rem; font-weight: 800; padding-bottom: 10px;">Projects</h2>
  
  <div class="proj-grid" role="list">
    {projects.map((p) => (
      <article role="listitem">
        <GlassEffect 
          class="project-card"
          onClick={`window.open('${p.href}', '_blank', 'noopener,noreferrer')`}
        >
          <div class="project-content">
            <h3>{p.title}</h3>
            <p>{p.summary}</p>
            {p.meta && <span class="project-meta">{p.meta}</span>}
          </div>
        </GlassEffect>
      </article>
    ))}
  </div>
  <style>
    /* Projects Grid Layout */
    .proj-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: flex-start;
      align-items: flex-start;
    }

    .proj-grid article {
      flex: 0 0 auto;
    }

    /* Project Card Specific Styles */
    .project-card {
      width: 250px;
      height: 200px;
    }

    .project-content {
      padding: 20px;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100%;
    }

    .project-content h3 {
      margin: 0 0 10px 0;
      font-size: 24px;
      font-weight: 600;
    }

    .project-content p {
      margin: 0;
      opacity: 0.8;
    }

    .project-meta {
      font-size: 12px;
      color: var(--muted);
      margin-top: 8px;
    }
  </style>

</section>